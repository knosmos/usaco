<!DOCTYPE html>
<html>
    <head>
        <link rel=stylesheet type=text/css href='../style.css'>
        <title>USACO Solutions</title>
        <link rel=icon href=../logo.png type=image/png>
    </head>
    <body style='min-height:100%;position:relative;'>
        <div class = "content-body">
            <nav class = container>
                <a href='../index.html'>USACO Solutions</a>
            </nav>
            <div class = "container wrapper">
                <h1>SuperPrime Rib</h1>

<h2>Algorithm</h2>

<p>1) First search for primes of length 1.</p>

<p>2) Add one digit to the found primes to find primes of length 2.</p>

<p>3) Repeat until all primes of length n have been found.</p>

<h2>C++</h2>

<pre><code>#include &lt;cstdio&gt;
#include &lt;vector&gt;
#include &lt;fstream&gt;
#include &lt;math.h&gt;
#include &lt;algorithm&gt;

using namespace std;

bool isPrime(int num){
    if(num == 0 || num == 1){ return false; }
    bool k = true;
    for(int f=2; f&lt;sqrt(num)+1; f++){
        if(num % f == 0){
            k = false;
            break;
        }
    }
    return k;
}

void search(int n, vector&lt;int&gt; &amp; res){
    vector&lt;int&gt; primes = {2,3,5,7}; // initialize with one-digit primes
    vector&lt;int&gt; newDigits = {1,3,7,9}; // the digits that we can add
    for(int len = 2; len &lt;= n; len++){
        vector&lt;int&gt; newPrimes;
        for(int prime:primes){
            for(int d:newDigits){
                int newPrime = 10*prime+d;
                if(isPrime(newPrime)){
                    newPrimes.push_back(newPrime);
                }
            }
        }
        primes = newPrimes;
    }
    sort(primes.begin(),primes.end());
    res = primes;
}

int main(){
    // Get the length of primes we want
    ifstream fIn("sprime.in");
    int n;
    fIn &gt;&gt; n;
    fIn.close();

    // Get the superprimes
    vector&lt;int&gt; res;
    search(n,res);

    // Write primes to file
    ofstream fOut("sprime.out");
    for(int p:res){
        fOut &lt;&lt; p &lt;&lt; endl;
    }
    fOut.close();
}
</code></pre>

            </div>            
        </div>
        <div class="container footer"><br>
            <a href='https://github.com/knosmos'>By Jieruei Chang @knosmos</a><br><br>
        </div>
    </body>
</html>